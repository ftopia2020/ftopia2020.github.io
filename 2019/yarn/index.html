<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noodp"/>
    <meta name="author" content="Faye.Fei">
    <meta name="description" content="个人技术博客">
    <meta name="keywords" content="ftopia fei">
    
    
    <link rel="next" href="https://ftopia2020.github.io/2019/golangcron/" />
    <link rel="canonical" href="https://ftopia2020.github.io/2019/yarn/" />
    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <link href="//use.fontawesome.com/releases/v5.9.0/css/all.css" rel="stylesheet">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <title>
         
         
             JS 包管理工具 —— Yarn 简介及使用 | Ftopia
         
    </title>
    <meta name="title" content="JS 包管理工具 —— Yarn 简介及使用 | Ftopia">
      
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


    
    
 

<script type="application/ld+json">
{   "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/ftopia2020.github.io\/"
    },
    "articleSection" : "posts",
    "name" : "JS 包管理工具 —— Yarn 简介及使用",
    "headline" : "JS 包管理工具 —— Yarn 简介及使用",
    "description" : "What Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS包管理工具。 更多的具体特性介绍可参考：Yarn 官网 Why 官网标",
    "inLanguage" : "en-us",
    "author" : "me",
    "creator" : "me",
    "publisher": "me",
    "accountablePerson" : "me",
    "copyrightHolder" : "me",
    "copyrightYear" : "2019",
    "datePublished": "2019-08-27 00:00:00 \x2b0000 UTC",
    "dateModified" : "2019-08-27 00:00:00 \x2b0000 UTC",
    "url" : "https:\/\/ftopia2020.github.io\/2019\/yarn\/",
    "wordCount" : "795",
    "keywords" : [ "JavaScript","JS","Yarn","原创", "Ftopia"]
}
</script>

  </head>
  
    
  
  
<aside class="side-toc">
    
    <nav id="TableOfContents">
  <ul>
    <li><a href="#what">What</a></li>
    <li><a href="#why">Why</a>
      <ul>
        <li><a href="#vs-npm">VS npm</a></li>
      </ul>
    </li>
    <li><a href="#how">How</a>
      <ul>
        <li><a href="#基础使用">基础使用</a></li>
        <li><a href="#demo">Demo</a></li>
      </ul>
    </li>
  </ul>
</nav>
</aside>

  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    
    <div class="top-scroll-bar"></div>
    
    <div class="container">
        <div class="navbar-header header-logo">
            <a href="https://ftopia2020.github.io/" style="margin-left: 20px">
                <img src="/favicon-32x32.png" style="width: 16px;" />
                <span> Ftopia </span>

            </a>
        </div>
        <div class="menu navbar-right">
            
            
            <a class="menu-item"
                href="/posts/" title="">Blog</a>
            
            <a class="menu-item"
                href="/categories/" title="">Categories</a>
            
            <a class="menu-item"
                href="/tags/" title="">Tags</a>
            
            <a class="menu-item"
                href="/about/" title="">About</a>
            
            <a href="javascript:void(0);" class="theme-switch"><i class="far fa-sun"></i></a>
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
    
    <div class="top-scroll-bar"></div>
    
    <div class="container">
        <div class="navbar-header">
            <div> <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a
                    href="https://ftopia2020.github.io/">Ftopia</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>

        <div class="menu" id="mobile-menu">
            
            
            <a class="menu-item"
                href="/posts/" title="">Blog</a>
            
            <a class="menu-item"
                href="/categories/" title="">Categories</a>
            
            <a class="menu-item"
                href="/tags/" title="">Tags</a>
            
            <a class="menu-item"
                href="/about/" title="">About</a>
            
        </div>
    </div>
</nav>
        
        <div id="landlord">
          <div class="message" style="opacity:0"></div>
          <canvas id="live2d" width="280" height="250" class="live2d"></canvas>
          <div class="hide-button">Bye ~</div>
       </div>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">JS 包管理工具 —— Yarn 简介及使用</h1>
        <div class="post-meta">

            <i class="far fa-folder-open"></i>
            <span class="post-category">
                
            </span>
            &nbsp;
            By me ♥
            &nbsp;
            <span class="post-time">
                <i class="far fa-calendar-alt"></i>
                <time datetime=2019-08-27
                    itemprop="datePublished">
                    2019-08-27</time>
            </span>
            &nbsp;
            <i class="far fa-file-word"></i> <span class="post-word-count"> 795 字</span>
            &nbsp;
            <i class="far fa-clock"></i> <span class="more-meta"> 2 分钟</span>

        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <h2 id="what">What</h2>
<p>Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 <strong>JS包管理工具</strong>。</p>
<p>更多的具体特性介绍可参考：<a href="https://yarnpkg.com/">Yarn 官网</a></p>
<h2 id="why">Why</h2>
<blockquote>
<p>官网标语：快速、可靠、安全的依赖管理</p>
</blockquote>
<p>Yarn 的优点体验下来主要有：</p>
<ul>
<li><strong>快</strong>：并行安装及离线模式提升了安装包的速度（镜像被墙的问题与工具无关，详见下文）</li>
<li><strong>版本统一</strong>：yarn.lock 一定程度上固化了依赖；类似 package-lock.json</li>
<li><strong>命令简易</strong>：<code>yarn init yarn add yarn remove</code> 等命令感觉比 npm 方便</li>
</ul>
<h3 id="vs-npm">VS npm</h3>
<p>作为 JS 包管理工具，一定会与 npm 作为比较，而事实上，Yarn 是为了弥补 xpm 的一些缺陷而出现的。当然 npm 也一直在迭代更新，具体的区别和优势，可参考博文：<a href="https://juejin.im/post/5ab89cc4f265da237506e367">npm和yarn的区别，我们该如何选择?</a></p>
<blockquote>
<p>具体用 yarn 还是 npm，还是看团队及个人喜好吧，个人因为 <code>create-react-app</code> 推荐使用了 yarn，之前用的都是 npm，的确感觉 npm 有不少包冲突的坑，新的前端项目会选择使用 yarn。</p>
</blockquote>
<h2 id="how">How</h2>
<h3 id="基础使用">基础使用</h3>
<ol>
<li>安装：参考 <a href="https://yarnpkg.com/zh-Hans/docs/install#mac-stable">官网-新手指南-安装</a></li>
<li>使用：参考 <a href="https://yarnpkg.com/zh-Hans/docs/usage">官网-新手指南-使用</a>，基本使用足够了</li>
</ol>
<p>常用命令列举如下：</p>
<ul>
<li>初始化 <code>yarn init</code></li>
<li>添加包</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 指定版本及标签</span>
yarn add <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span>
yarn add <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span>@<span style="color:#f92672">[</span>version<span style="color:#f92672">]</span>
yarn add <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span>@<span style="color:#f92672">[</span>tag<span style="color:#f92672">]</span>
<span style="color:#75715e"># 添加依赖类别</span>
yarn add <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span> --dev
yarn add <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span> --peer
yarn add <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span> --optional
</code></pre></div><ul>
<li>升级包</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">yarn upgrade <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span>
yarn upgrade <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span>@<span style="color:#f92672">[</span>version<span style="color:#f92672">]</span>
yarn upgrade <span style="color:#f92672">[</span>package<span style="color:#f92672">]</span>@<span style="color:#f92672">[</span>tag<span style="color:#f92672">]</span>
</code></pre></div><ul>
<li>移除包 <code>yarn remove [package]</code></li>
<li>安装项目的全部依赖  <code>yarn</code>  或者  <code>yarn install</code></li>
</ul>
<p><strong>注意：</strong> 由于某些原因，Yarn 需要使用国内镜像，方式如下：</p>
<pre><code># 设置 yarn 镜像源为淘宝镜像
yarn config set registry https://registry.npm.taobao.org/
# 查看 yarn 当前镜像源
yarn config get registry
</code></pre><p>有关国内镜像，更多可参考 <a href="%5Bhttps://www.google.com.hk/search?newwindow=1&amp;safe=strict&amp;ei=av1kXar1Otjh-Abbl5wg&amp;q=yarn+%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90%5D(https://www.google.com.hk/search?newwindow=1&amp;safe=strict&amp;ei=av1kXar1Otjh-Abbl5wg&amp;q=yarn+%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E6%BA%90)">google 搜索 yarn 国内镜像源</a></p>
<p>更多 Yarn 的使用请参考官网的 <a href="https://yarnpkg.com/zh-Hans/docs/">其他文档</a></p>
<h3 id="demo">Demo</h3>
<p>创建空工作目录，<code>yarn init</code> 初始化项目，发现新建了一个 package.json 文件，查看如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#960050;background-color:#1e0010">➜</span> <span style="color:#960050;background-color:#1e0010">cat</span> <span style="color:#960050;background-color:#1e0010">package.json</span>
{
  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;test&#34;</span>,
  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
  <span style="color:#f92672">&#34;main&#34;</span>: <span style="color:#e6db74">&#34;index.js&#34;</span>,
  <span style="color:#f92672">&#34;license&#34;</span>: <span style="color:#e6db74">&#34;MIT&#34;</span>
}
</code></pre></div><p>使用 <code>yarn add vue</code>，打印如下：</p>
<pre><code>➜ yarn add vue
yarn add v1.16.0
info No lockfile found.
[1/4]  Resolving packages...
[2/4]  Fetching packages...
[3/4]  Linking dependencies...
[4/4]  Building fresh packages...

success Saved lockfile.
warning Your current version of Yarn is out of date. The latest version is &quot;1.17.3&quot;, while you're on &quot;1.16.0&quot;.
info To upgrade, run the following command:
$ brew upgrade yarn
success Saved 1 new dependency.
info Direct dependencies
└─ vue@2.6.10
info All dependencies
└─ vue@2.6.10
Done in 8.69s.
</code></pre><p>安装完成 vue 后，新增 node_modules 包文件夹以及 yarn.lock 文件</p>
<pre><code>➜  ls
node_modules package.json yarn.lock
</code></pre><p>查看 package.json，加入了 dependencies</p>
<pre><code>  &quot;dependencies&quot;: {
    &quot;vue&quot;: &quot;^2.6.10&quot;
  }
</code></pre><p>以及 yarn.lock 文件</p>
<pre><code># THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# yarn lockfile v1


vue@^2.6.10:
  version &quot;2.6.10&quot;
  resolved &quot;https://registry.npm.taobao.org/vue/download/vue-2.6.10.tgz#a72b1a42a4d82a721ea438d1b6bf55e66195c637&quot;
  integrity sha1-pysaQqTYKnIepDjRtr9V5mGVxjc=
</code></pre>
    </div>

    <div class="post-copyright">
        
    </div>


    <div class="post-tags">
        
        <section>
            <i class="iconfont icon-tag"></i>Tag(s):
            
            <span class="tag"><a href="https://ftopia2020.github.io/tags/javascript/">
                    #JavaScript</a></span>
            
            <span class="tag"><a href="https://ftopia2020.github.io/tags/js/">
                    #JS</a></span>
            
            <span class="tag"><a href="https://ftopia2020.github.io/tags/yarn/">
                    #Yarn</a></span>
            
            <span class="tag"><a href="https://ftopia2020.github.io/tags/%E5%8E%9F%E5%88%9B/">
                    #原创</a></span>
            
        </section>
        
        <section>
            <a href="javascript:window.history.back();">back</a></span> ·
            <span><a href="https://ftopia2020.github.io/">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        
        <a href="https://ftopia2020.github.io/2019/golangcron/" class="next" rel="next"
            title="Golang 实现定时任务">Golang 实现定时任务&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
        
        
        
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2020 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://ftopia2020.github.io/">Faye.Fei</a> | </span> 
         

         
            <a href="http://beian.miit.gov.cn/" target="_blank" rel="external nofollow">沪ICP备18041231号 </a> |
         
		  <span>
           Powered by
           <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a>
         </span> 
      </div>
</footer>














<script type="text/javascript">
    var message_Path = "/live2d/"
    var home_Path = "https://ftopia2020.github.io/"  
</script>


    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    



     </div>
  
  </body>
</html>
